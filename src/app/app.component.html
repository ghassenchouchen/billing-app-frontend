<ng-container *ngIf="isLoginRoute; else mainLayout">
  <router-outlet></router-outlet>
</ng-container>

<ng-template #mainLayout>
  <div class="app-shell">
    <aside class="app-sidebar">
      <div class="brand">
        <div class="brand-icon">TB</div>
        <div>
          <div class="brand-title">Facturation Télécom</div>
          <div class="brand-subtitle">Suite Opérations</div>
        </div>
      </div>

      <nav class="sidebar-nav">
        <a class="nav-item" routerLink="/Customers" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <span class="material-icons">group</span>
          Clients
        </a>
        <a class="nav-item" routerLink="/Bills" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <span class="material-icons">receipt_long</span>
          Factures
        </a>
        <a class="nav-item" routerLink="/Contracts" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <span class="material-icons">description</span>
          Contrats
        </a>
        <a class="nav-item" routerLink="/Services" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <span class="material-icons">settings</span>
          Services
        </a>
        <a class="nav-item" routerLink="/Offers" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <span class="material-icons">redeem</span>
          Offres
        </a>
      </nav>
    </aside>

    <div class="app-main">
      <header class="app-topbar">
        <div class="topbar-left">
          <div class="topbar-title">Tableau de bord de facturation</div>
          <div class="topbar-subtitle">Gestion unifiée de la facturation télécom</div>
        </div>
        <div class="topbar-actions">
          <div class="search-pill">
            <span class="material-icons">search</span>
            <input type="text" placeholder="Rechercher un client, un contrat..." aria-label="Rechercher" />
          </div>
          <div class="user-pill">
            <span class="material-icons">account_circle</span>
            Administrateur
          </div>
          <button class="btn btn-logout" type="button" (click)="logout()">
            <span class="material-icons">logout</span>
            Déconnexion
          </button>
        </div>
      </header>

      <main class="app-content">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</ng-template>